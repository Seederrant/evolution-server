// Generated by CoffeeScript 1.7.1
(function() {
  var app, evolution, http, io;

  app = require("express")();

  http = require("http").Server(app);

  io = require('socket.io')(http);

  evolution = require('evolutionController')(io);

  app.get("/", function(req, res) {
    res.send({
      connected: true
    });
  });

  io.on("connection", function(socket) {
    console.log("a user connected");
    socket.on('disconnect', function() {
      return console.log("disconnected");
    });
    socket.on("end turn", function(action) {
      console.log("end turn: " + action);
      if (evolution.areCompatible(action.card, action.specie)) {
        return io.emit(action, {
          "for": 'everyone'
        });
      }
    });
  });

  http.listen(3000, function() {
    console.log("listening on *:3000");
  });

}).call(this);

//# sourceMappingURL=index.map
